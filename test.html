<!-- Styles -->
<style>
    #chartdiv {
      width: 100%;
      height: 500px;
    }
    </style>
    
    <!-- Resources -->
    <script src="https://www.amcharts.com/lib/4/core.js"></script>
    <script src="https://www.amcharts.com/lib/4/charts.js"></script>
    <script src="https://www.amcharts.com/lib/4/themes/animated.js"></script>
    
    <!-- Chart code -->
    <script>
    am4core.ready(function() {
    
    // Themes begin
    am4core.useTheme(am4themes_animated);
    // Themes end
    
    // Create chart instance
    var chart = am4core.create("chartdiv", am4charts.XYChart);
    
    // Title
    var title = chart.titles.push(new am4core.Label());
    title.text = "Research tools used by students";
    title.fontSize = 25;
    title.marginBottom = 15;
    
    // Add data
    chart.data = [{
      "category": "Search engines",
      "negative1": -0.1,
      "negative2": -0.9,
      "positive1": 5,
      "positive2": 94
    }, {
      "category": "Online encyclopedias",
      "negative1": -2,
      "negative2": -4,
      "positive1": 19,
      "positive2": 75
    }, {
      "category": "Peers",
      "negative1": -2,
      "negative2": -10,
      "positive1": 46,
      "positive2": 42
    }, {
      "category": "Social media",
      "negative1": -2,
      "negative2": -13,
      "positive1": 33,
      "positive2": 52
    }, {
      "category": "Study guides",
      "negative1": -6,
      "negative2": -19,
      "positive1": 34,
      "positive2": 41
    }, {
      "category": "News websites",
      "negative1": -3,
      "negative2": -23,
      "positive1": 49,
      "positive2": 25
    }, {
      "category": "Textbooks",
      "negative1": -5,
      "negative2": -28,
      "positive1": 49,
      "positive2": 18
    }, {
      "category": "Librarian",
      "negative1": -14,
      "negative2": -34,
      "positive1": 37,
      "positive2": 16
    }, {
      "category": "Printed books",
      "negative1": -9,
      "negative2": -41,
      "positive1": 38,
      "positive2": 12
    }, {
      "category": "Databases",
      "negative1": -18,
      "negative2": -36,
      "positive1": 29,
      "positive2": 17
    }, {
      "category": "Student search engines",
      "negative1": -17,
      "negative2": -39,
      "positive1": 34,
      "positive2": 10
    }];
    
    
    // Create axes
    var categoryAxis = chart.yAxes.push(new am4charts.CategoryAxis());
    categoryAxis.dataFields.category = "category";
    categoryAxis.renderer.grid.template.location = 0;
    categoryAxis.renderer.inversed = true;
    categoryAxis.renderer.minGridDistance = 20;
    categoryAxis.renderer.axisFills.template.disabled = false;
    categoryAxis.renderer.axisFills.template.fillOpacity = 0.05;
    
    
    var valueAxis = chart.xAxes.push(new am4charts.ValueAxis());
    valueAxis.min = -100;
    valueAxis.max = 100;
    valueAxis.renderer.minGridDistance = 50;
    valueAxis.renderer.ticks.template.length = 5;
    valueAxis.renderer.ticks.template.disabled = false;
    valueAxis.renderer.ticks.template.strokeOpacity = 0.4;
    valueAxis.renderer.labels.template.adapter.add("text", function(text) {
      return text == "Male" || text == "Female" ? text : text + "%";
    })
    
    // Legend
    chart.legend = new am4charts.Legend();
    chart.legend.position = "right";
    chart.legend.width = 100;
    
    // Use only absolute numbers
    chart.numberFormatter.numberFormat = "#.#s";
    
    // Create series
    function createSeries(field, name, color) {
      var series = chart.series.push(new am4charts.ColumnSeries());
      series.dataFields.valueX = field;
      series.dataFields.categoryY = "category";
      series.stacked = true;
      series.name = name;
      series.stroke = color;
      series.fill = color;
      
      var label = series.bullets.push(new am4charts.LabelBullet);
      label.label.text = "{valueX}%";
      label.label.fill = am4core.color("#fff");
      label.label.strokeWidth = 0;
      label.label.truncate = false;
      label.label.hideOversized = true;
      label.locationX = 0.5;
      return series;
    }
    
    var interfaceColors = new am4core.InterfaceColorSet();
    var positiveColor = interfaceColors.getFor("positive");
    var negativeColor = interfaceColors.getFor("negative");
    
    createSeries("negative", "Under", negativeColor);
    createSeries("positive", "Over", positiveColor);
    
    }); // end am4core.ready()
    </script>
    
    <!-- HTML -->
    <div id="chartdiv"></div>